{"ast":null,"code":"import React,{useRef,useState}from'react';import'../styles/tour-detail.css';import{Container,Row,Col,Form,ListGroup}from'reactstrap';import{useParams}from'react-router-dom';import tourData from'../assets/data/tours';import calculateAvgRating from'../utils/avgRating';import avatar from'../assets/images/avatar.jpg';import Booking from'../components/Booking/Booking';import NewsLetter from'../shared/NewsLetter';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TourDetail=()=>{const{id}=useParams();const reviewsMsgRef=useRef('');const[tourRating,setTourRating]=useState(null);const tour=tourData.find(tour=>tour.id===id);const{photo,title,desc,price,reviews,city,distance,maxGroupSize,address}=tour;const{totalRating,avgRating}=calculateAvgRating(reviews);const options={day:\"numeric\",month:\"long\",year:\"numeric\"};const submitHandler=e=>{e.preventDefault();const reviewText=reviewsMsgRef.current.value;alert(\"\".concat(reviewText,\".\").concat(tourRating));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour__content\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"tour__rating d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\",style:{color:\"var(--secondary-color)\"}}),\" \",avgRating===0?null:avgRating,totalRating===0?'Not rated':/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",reviews===null||reviews===void 0?void 0:reviews.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-user-fill\"}),\" \",address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__extra-details\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-2-line\"}),city]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-money-dollar-circle-line\"}),\"$\",price,\" / per person\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-time-line\"}),distance,\"Km\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-group-line\"}),maxGroupSize,\" people\"]})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:desc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__reviews mt-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Reviews (\",reviews===null||reviews===void 0?void 0:reviews.length,\" reviews)\"]}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3 mb-4 rating__group\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(1),children:[\"1\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(2),children:[\"2\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(3),children:[\"3\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(4),children:[\"4\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setTourRating(5),children:[\"5\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review__input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:reviewsMsgRef,placeholder:\"share your thoughts\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary_btn text-white\",type:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(ListGroup,{className:\"user__reviews\",children:reviews===null||reviews===void 0?void 0:reviews.map(review=>/*#__PURE__*/_jsxs(\"div\",{className:\"review__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"blair\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date('01-04-2024').toLocaleDateString('en-KE',options)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center\",children:[\"5\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Amazing tour\"})]})]}))})]})]})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(Booking,{tour:tour,avgRating:avgRating})})]})})}),/*#__PURE__*/_jsx(NewsLetter,{})]});};export default TourDetail;","map":{"version":3,"names":["React","useRef","useState","Container","Row","Col","Form","ListGroup","useParams","tourData","calculateAvgRating","avatar","Booking","NewsLetter","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TourDetail","id","reviewsMsgRef","tourRating","setTourRating","tour","find","photo","title","desc","price","reviews","city","distance","maxGroupSize","address","totalRating","avgRating","options","day","month","year","submitHandler","e","preventDefault","reviewText","current","value","alert","concat","children","lg","className","src","alt","class","style","color","length","onSubmit","onClick","type","ref","placeholder","required","map","review","Date","toLocaleDateString"],"sources":["/Users/tonnyblair/Desktop/react_projects/travel_tours/frontend/src/pages/TourDetail.jsx"],"sourcesContent":["import React, {useRef, useState} from 'react';\nimport '../styles/tour-detail.css';\nimport { Container, Row,Col, Form, ListGroup } from 'reactstrap';\nimport {useParams} from 'react-router-dom';\nimport tourData from '../assets/data/tours'\nimport calculateAvgRating from '../utils/avgRating';\nimport avatar from '../assets/images/avatar.jpg'\nimport Booking from '../components/Booking/Booking';\nimport NewsLetter from '../shared/NewsLetter';\n\nconst TourDetail = () => {\n    const {id} = useParams()\n    const reviewsMsgRef = useRef('');\n    const [tourRating,setTourRating] = useState(null);\n    const tour = tourData.find(tour=>tour.id === id)\n    const {photo,title,desc,price,reviews,city,distance,maxGroupSize, address} = tour;\n    const {totalRating, avgRating} = calculateAvgRating(reviews);\n    const options = {day: \"numeric\", month: \"long\", year: \"numeric\"};\n\n    const submitHandler = e=>{\n        e.preventDefault()\n        const reviewText = reviewsMsgRef.current.value\n\n        alert(`${reviewText}.${tourRating}`)\n    }\n  return <>\n    <section>\n        <Container>\n            <Row>\n                <Col lg='8'>\n                   <div className=\"tour__content\">\n                    <img src={photo} alt=\"\" />\n                    <div className=\"tour__info\">\n                        <h2>{title}</h2>\n                        <div className='d-flex align-items-center gap-5'>\n                        <span className='tour__rating d-flex align-items-center gap-1'>\n                          <i class=\"ri-star-fill\" style={{color: \"var(--secondary-color)\"}}></i> {avgRating === 0 ? null : avgRating}\n                          {totalRating === 0 ? 'Not rated' :  <span>({reviews?.length})</span>}\n                       </span>\n                       <span>\n                         <i class='ri-map-pin-user-fill'></i> {address}\n                       </span>\n                        </div>\n                        <div className=\"tour__extra-details\">\n                            <span><i class='ri-map-pin-2-line'></i>{city}</span>\n                            <span><i class='ri-money-dollar-circle-line'></i>${price} / per person</span>\n                            <span><i class='ri-map-pin-time-line'></i>{distance}Km</span>\n                            <span><i class='ri-group-line'></i>{maxGroupSize} people</span>\n                        </div>\n                        <h5>Description</h5>\n                        <p>{desc}</p>\n                    </div>\n\n                    <div className=\"tour__reviews mt-4\">\n                       <h4>Reviews ({reviews?.length} reviews)</h4>\n                       <Form onSubmit={submitHandler}>\n                          <div className='d-flex align-items-center gap-3 mb-4 rating__group'>\n                             <span onClick={()=> setTourRating(1)}>1<i class='ri-star-s-fill'></i></span> \n                             <span onClick={()=> setTourRating(2)} >2<i class='ri-star-s-fill'></i></span>\n                             <span onClick={()=> setTourRating(3)}>3<i class='ri-star-s-fill'></i></span>\n                             <span onClick={()=> setTourRating(4)}>4<i class='ri-star-s-fill'></i></span>\n                             <span onClick={()=> setTourRating(5)}>5<i class='ri-star-s-fill'></i></span>\n                          </div>\n                          <div className=\"review__input\">\n                              <input type=\"text\" ref={reviewsMsgRef} placeholder='share your thoughts' required/>\n                              <button className=\"btn primary_btn text-white\" type='submit'>\n                                 Submit\n                              </button>\n                          </div>\n                       </Form>\n                       <ListGroup className='user__reviews'>\n                          {\n                            reviews?.map(review=>(\n                                <div className=\"review__item\">\n                                    <img src={avatar} alt=\"\" />\n                                    <div className=\"w-100\">\n                                        <div className='d-flex align-items-center justify-content-between'>\n                                            <div>\n                                                <h5>blair</h5>\n                                                <p>{new Date('01-04-2024').toLocaleDateString('en-KE', options)}</p>\n                                            </div>\n                                            <span className='d-flex align-items-center'>\n                                              5<i class='ri-star-s-fill'></i>\n                                            </span>\n                                        </div>\n                                        <h6>Amazing tour</h6>\n                                    </div>\n                                </div>\n                            ))\n                          }\n                       </ListGroup>\n                    </div>\n                   </div>\n                </Col>\n                <Col lg='4'>\n                    <Booking tour={tour} avgRating={avgRating}/>\n                </Col>\n            </Row>\n        </Container>\n    </section>\n    <NewsLetter />\n  </>\n}\n\nexport default TourDetail\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}